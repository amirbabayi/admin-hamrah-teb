<div class="addContainer">
  <div class="modalHeader">
    <div class="editRowModal">
      <div class="modalHeader clearfix">
        <div class="modal-about">
          {{ dialogTitle }}
        </div>
      </div>
    </div>
    <button
      mat-icon-button
      (click)="dialogRef.close()"
      class="modal-close-button"
      aria-label="Close dialog"
    >
      <mat-icon>close</mat-icon>
    </button>
  </div>
  <div mat-dialog-content>
    <form
      class="register-form m-4"
      [formGroup]="dutyForm"
      (ngSubmit)="(submit)"
    >
      <div class="row">
        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
          <mat-form-field class="example-full-width" appearance="outline">
            <mat-label>عنوان</mat-label>
            <input matInput formControlName="Title" />
            <mat-icon class="material-icons-two-tone color-icon p-3" matSuffix
              >face</mat-icon
            >
            <mat-error *ngIf="dutyForm.get('Title')?.hasError('required')">
              عنوان خدمات اجباری است
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
          <mat-form-field class="example-full-width" appearance="outline">
            <mat-label>Url</mat-label>
            <input matInput formControlName="Url" />
            <mat-icon class="material-icons-two-tone color-icon p-3" matSuffix
              >face</mat-icon
            >
            <mat-error *ngIf="dutyForm.get('Url')?.hasError('required')">
              لینک خدمات اجباری است
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 mb-2">
            <mat-label>عکس کاور</mat-label>
            <input type="file" (change)="onFileChange($event)" formControlName="CoverFile"/>
        </div>
        <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 mb-2">
            <button class="btn btn-primary" type="button" (click)="uploadCover()">بارگذاری تصویر</button>
        </div>
      </div>
      <div class="row">
        <img class="cover-image" [src]="coverImage"/>
      </div>
      <div class="row">
        <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 mb-2">
          <mat-label>فعال</mat-label>
          <mat-checkbox formControlName="Active"></mat-checkbox>
        </div>
        <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 mb-2">
          <mat-label>نمایش در سایت مپ</mat-label>
          <mat-checkbox formControlName="IncludeInSitemap"></mat-checkbox>
        </div>
        <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 mb-2">
          <mat-label>نظرات کاربران</mat-label>
          <mat-checkbox formControlName="AllowComments"></mat-checkbox>
        </div>
      </div>
      <div class="row">
        <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 mb-2">
          <mat-label>نمایش در صفحه اصلی</mat-label>
          <mat-checkbox formControlName="ShowInTopSix"></mat-checkbox>
        </div>
        <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 mb-2">
          <mat-label>نمایش در فوتر</mat-label>
          <mat-checkbox formControlName="ShowInFooter"></mat-checkbox>
        </div>
      </div>
      <div class="row">
        <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 mb-2">
          <mat-form-field class="example-full-width">
            <mat-label>سرویس اصلی</mat-label>
            <mat-select  formControlName="ParentId">
              <mat-option>ندارد</mat-option>
              <mat-option *ngFor="let item of duties" [value]="item.Id">{{item.Title}}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
          <mat-form-field class="example-full-width" appearance="outline">
            <mat-label>عنوان سئو</mat-label>
            <input matInput formControlName="MetaTitle" />
            <mat-icon class="material-icons-two-tone color-icon p-3" matSuffix
              >face</mat-icon
            >
            <mat-error *ngIf="dutyForm.get('MetaTitle')?.hasError('required')">
              عنوان سئو اجباری است
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
          <mat-form-field class="example-full-width" appearance="outline">
            <mat-label>توضیحات سئو</mat-label>
            <textarea matInput formControlName="MetaDescription"></textarea>
            <mat-icon class="material-icons-two-tone color-icon p-3" matSuffix
              >face</mat-icon
            >
            <mat-error
              *ngIf="dutyForm.get('MetaDescription')?.hasError('required')"
            >
              توضیحات سئو خدمات اجباری است
            </mat-error>
          </mat-form-field>
        </div>
      </div>

      <div class="row">
        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
          <mat-form-field class="example-full-width" appearance="outline">
            <mat-label>کلمات کلیدی سئو</mat-label>
            <input matInput formControlName="MetaKeywords" />
            <mat-icon class="material-icons-two-tone color-icon p-3" matSuffix
              >face</mat-icon
            >
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
          <mat-form-field class="example-full-width" appearance="outline">
            <mat-label>توضیحات کوتاه</mat-label>
            <textarea matInput formControlName="BodyOverview"></textarea>
            <mat-icon class="material-icons-two-tone color-icon p-3" matSuffix
              >face</mat-icon
            >
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
          <mat-label>توضیحات</mat-label>
          <ckeditor
            [editor]="Editor"
            [data]="duty.Body"
            [config]="editorConfig"
            (change)="onEditorChange($event, 'Body')"
          ></ckeditor>
        </div>
      </div>
      <div class="row">
        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
          <div class="example-button-row">
            <button
              mat-raised-button
              color="primary"
              [disabled]="!dutyForm.valid"
              [mat-dialog-close]="1"
              (click)="confirmAdd()"
            >
              ذخیره
            </button>
            <button
              mat-raised-button
              color="warn"
              (click)="onNoClick()"
              tabindex="-1"
            >
              بستن
            </button>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
